# AI Session Management Guide

**Purpose**: Navigation hub for session management and context optimization
**Last Updated**: 2025-10-11
**Status**: Active reference

---

## 🚀 Quick Start

**For Claude/AI Sessions**: Before starting any work:

1. **Generate session context**: `./scripts/session_start.sh`
2. **Read compact summary**: `cat .ai/current-session.md` (~300 tokens)
3. **Check operations guide**: See [CONTEXT_OPTIMIZATION_OPERATIONS_GUIDE.md](../CONTEXT_OPTIMIZATION_OPERATIONS_GUIDE.md)

---

## 📁 Directory Structure

```
.ai/
├── current-session.md          # Active session state (~80 tokens) [TRACKED]
├── index.md                    # This navigation guide [TRACKED]
├── daily/                      # Daily session logs [GITIGNORED]
│   ├── template.md            # Session template [TRACKED]
│   └── index.md               # Daily navigation [TRACKED]
├── monthly/                    # Monthly summaries [GITIGNORED]
│   ├── template.md            # Monthly template [TRACKED]
│   └── index.md               # Monthly navigation [TRACKED]
├── permanent/                  # Permanent references [TRACKED]
│   ├── tool-registry.md       # All MCP tools
│   ├── phases.md              # Implementation phases
│   ├── file-management-policy.md # File policies
│   ├── context_budget.json    # Budget config
│   ├── template.md            # ADR template
│   └── index.md               # Permanent index
├── monitoring/                 # Monitoring data [GITIGNORED]
│   ├── baselines.json         # Context baselines
│   └── file_size_log.txt      # Size tracking
└── archive/                    # Archived sessions [GITIGNORED]
```

---

## 📊 Key Files

### Session Management
- **[current-session.md](current-session.md)** - Active session state (~80 tokens)
- **[daily/template.md](daily/template.md)** - Template for detailed session logs
- **[monthly/template.md](monthly/template.md)** - Template for monthly summaries

### Permanent References
- **[permanent/tool-registry.md](permanent/tool-registry.md)** - All 90+ MCP tools indexed
- **[permanent/phases.md](permanent/phases.md)** - Phase-by-phase implementation guide
- **[permanent/file-management-policy.md](permanent/file-management-policy.md)** - File creation/archive policy
- **[permanent/context_budget.json](permanent/context_budget.json)** - Token budget configuration
- **[permanent/template.md](permanent/template.md)** - Architecture Decision Record template

### Monitoring
- **monitoring/baselines.json** - Context usage baselines
- **monitoring/file_size_log.txt** - File size tracking log

---

## 🔄 Common Tasks

### Start New Session
```bash
./scripts/session_start.sh              # Generate current-session.md
./scripts/session_start.sh --new-session # Create detailed session file
```

### Find Information
```bash
cat .ai/permanent/tool-registry.md      # Find MCP tools
grep -r "keyword" .ai/permanent/        # Search permanent references
cat .ai/current-session.md              # Current session state
```

### Archive Sessions
```bash
./scripts/session_archive.sh            # Archive old sessions locally
./scripts/session_archive.sh --to-s3    # Archive to S3 (optional)
```

---

## 📈 Context Optimization Targets

| Operation | Target | Achieved | File |
|-----------|--------|----------|------|
| Session Start | 300 tokens | ~300 | current-session.md |
| Status Check | 150 tokens | ~150 | PROJECT_STATUS.md |
| Tool Lookup | 100 tokens | ~100 | permanent/tool-registry.md |
| Overall Session | 3-10K tokens | 3-10K | Combined |

**Overall Savings**: 80-93% reduction (30-50K → 3-10K tokens per session)

---

## 🗂️ Subdirectory Navigation

### [daily/](daily/)
- Daily session logs (gitignored after 7 days)
- Detailed work notes and decisions
- Auto-generated by `session_start.sh --new-session`
- **Index**: [daily/index.md](daily/index.md)

### [monthly/](monthly/)
- Monthly summary rollups (gitignored after 3 months)
- High-level monthly progress
- Created manually or via monthly summary script
- **Index**: [monthly/index.md](monthly/index.md)

### [permanent/](permanent/)
- Permanent architectural decisions and references
- Never gitignored, always tracked
- Tool registry, policies, templates
- **Index**: [permanent/index.md](permanent/index.md)

### monitoring/
- Context usage baselines and tracking
- File size monitoring logs
- Gitignored monitoring data

### archive/
- Archived daily and monthly files (gitignored)
- Local archive before optional S3 upload
- Retention: 7 days (daily), 3 months (monthly)

---

## 📚 Related Documentation

### Core Guides
- **[CONTEXT_OPTIMIZATION_OPERATIONS_GUIDE.md](../CONTEXT_OPTIMIZATION_OPERATIONS_GUIDE.md)** - Daily operations and decision trees
- **[permanent/file-management-policy.md](permanent/file-management-policy.md)** - File creation and archive policies
- **[permanent/phases.md](permanent/phases.md)** - Implementation methodology

### Project Status
- **[PROJECT_STATUS.md](../PROJECT_STATUS.md)** - Current project status (<150 tokens)
- **[project/](../project/)** - Detailed status tracking

### Scripts
- `./scripts/session_start.sh` - Start session, generate context
- `./scripts/session_archive.sh` - Archive old sessions
- `./scripts/context_dashboard.sh` - View context metrics
- `./scripts/weekly_health_check.sh` - Weekly maintenance

---

## 🎯 Success Criteria

✅ **System is working correctly if:**
- Session start: <300 tokens
- current-session.md: <80 lines
- Gitignore working (daily/monthly not in git status)
- Health checks pass
- Archive process runs smoothly

---

**Token Cost**: This index: ~40 tokens (vs 700+ tokens in previous version)
